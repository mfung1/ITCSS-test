"use strict";var debounce=function(a,r,d){var o;return function(){var e=this,t=arguments,n=d&&!o;clearTimeout(o),o=setTimeout(function(){o=null,d||a.apply(e,t)},r||200),n&&a.apply(e,t)}},addClass=function(e,t,n){var a=e.className,r=t.getAttribute("data-show");-1==a.indexOf(n)&&"false"==r?(e.className+=" "+n,t.setAttribute("data-show",!0),t.setAttribute("aria-expanded",!0)):(e.className=e.className.replace(/\brotate\b/," "),t.setAttribute("data-show",!1),t.setAttribute("aria-expanded",!1))},expand=function(){var e=document.getElementById("checklist-btn"),t=document.getElementsByClassName("ddl-rndl")[0],n=document.getElementById("fields");e.addEventListener("click",function(){addClass(t,n,"rotate")},!1),e.addEventListener("keypress",function(e){"Spacebar"!=e.key&&"Return"!=e.key||addClass(t,n,"rotate")},!1)};function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}document.addEventListener("DOMContentLoaded",expand());var fields=document.querySelectorAll(".form_field"),cards=document.querySelectorAll(".row"),inputs=document.querySelectorAll('input[type="checkbox"]'),apply=document.querySelector("#apply-filter"),remove=document.querySelector("#remove-filter"),targets=[].concat(_toConsumableArray(cards)),elements=[].concat(_toConsumableArray(fields)),selected=[],getEvents=function(){for(var e=function(n){elements[n].addEventListener("click",function(e){if(0==inputs[n].checked)selected.push({tag:e.target,index:n}),inputs[n].checked=!0;else{var t=selected.indexOf(e.target);selected.splice(t,1),inputs[n].checked=!1}}),elements[n].addEventListener("keypress",function(e){if(32==e.keyCode||13==e.keyCode||32==e.charCode||13==e.charCode)if(0==inputs[n].checked)selected.push(e.target.id),inputs[n].checked=!0;else{var t=selected.indexOf(e.target.id);selected.splice(t,1),inputs[n].checked=!1}})},t=0;t<elements.length;t++)e(t);addBtnEvents()},hideSections=function(){for(var e in selected){var t=selected[e].index;targets[t].setAttribute("data-visible","false"),targets[t].setAttribute("style","margin: 0!important")}},showSections=function(){for(var e in selected){var t=selected[e].index;targets[t].setAttribute("data-visible","true"),elements[t].checked=!1,targets[t].setAttribute("style","")}selected=[]},addBtnEvents=function(){apply.addEventListener("click",hideSections),apply.addEventListener("keypress",function(e){32!=e.keyCode&&13!=e.keyCode&&32!=e.charCode&&13!=e.charCode||hideSections()},!1),apply.addEventListener("touch",hideSections),remove.addEventListener("click",showSections),remove.addEventListener("keypress",function(e){32!=e.keyCode&&32!=e.keyCode&&32!=e.charCode&&13!=e.charCode||showSections()},!1),remove.addEventListener("touch",showSections)};function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}document.addEventListener("DOMContentLoaded",getEvents);var getImages=document.querySelectorAll("[data-bg]"),images=[].concat(_toConsumableArray(getImages)),detect_location=function(e){Math.max(document.documentElement.clientWidth,0|window.innerWidth),Math.max(document.documentElement.clientHeight,0|window.innerHeight);var t=function(e){var t=e.getBoundingClientRect();if(0<=t.top&&0<=t.left&&t.top<=(window.innerHeight||document.documentElement.clientHeight)&&!e.className.includes("loaded")){var n=e.getAttribute("data-bg"),a=new Image;a.loading=function(){e.className.add("loaded")},a.onload=function(){e.src=""+n,!e.className.includes("loading")&&e.classList.remove("loading"),!e.className.includes("loaded")&&e.classList.add("loaded")},e.src=n,0==a.complete?a.loading():a.onload()}},n=!0,a=!1,r=void 0;try{for(var d,o=e[Symbol.iterator]();!(n=(d=o.next()).done);n=!0){t(d.value)}}catch(e){a=!0,r=e}finally{try{!n&&o.return&&o.return()}finally{if(a)throw r}}};document.addEventListener("scroll",function(e){debounce(detect_location(images),100,!1)});