"use strict";var debounce=function(d,r,a){var o;return function(){var e=this,t=arguments,n=a&&!o;clearTimeout(o),o=setTimeout(function(){o=null,a||d.apply(e,t)},r||200),n&&d.apply(e,t)}},addClass=function(e,t,n){var d=e.className,r=t.getAttribute("data-show");-1==d.indexOf(n)&&"false"==r?(e.className+=" "+n,t.setAttribute("data-show",!0),t.setAttribute("aria-expanded",!0)):(e.className=e.className.replace(/\brotate\b/," "),t.setAttribute("data-show",!1),t.setAttribute("aria-expanded",!1))},expand=function(){var e=document.getElementById("checklist-btn"),t=document.querySelector(".ddl-rndl"),n=document.getElementById("fields");e.addEventListener("click",function(){addClass(t,n,"rotate")},!1),e.addEventListener("keypress",function(e){"Spacebar"!=e.key&&"Return"!=e.key||addClass(t,n,"rotate")},!1)};function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}document.addEventListener("DOMContentLoaded",expand());var fields=document.querySelectorAll(".form_field"),cards=document.querySelectorAll(".row"),inputs=document.querySelectorAll('input[type="checkbox"]'),apply=document.querySelector("#apply-filter"),remove=document.querySelector("#remove-filter"),targets=[].concat(_toConsumableArray(cards)),elements=[].concat(_toConsumableArray(fields)),selected=[],isChecked=function(e,t){if(0==inputs[e].checked)selected.push({tag:t.target,index:e}),inputs[e].checked=!0;else{var n=selected.indexOf(t.target);selected.splice(n,1)}},getEvents=function(){for(var e=function(t){elements[t].addEventListener("click",function(e){isChecked(t,e)}),inputs[t].addEventListener("click",function(e){isChecked(t,e)}),inputs[t].addEventListener("keypress",function(e){32!=e.keyCode&&13!=e.keyCode&&32!=e.charCode&&13!=e.charCode||isChecked(t,e)})},t=0;t<elements.length;t++)e(t);addBtnEvents()},hideSections=function(){for(var e in selected){var t=selected[e].index;targets[t].setAttribute("data-visible","false"),targets[t].setAttribute("style","margin: 0!important")}},showSections=function(){for(var e in selected){var t=selected[e].index;targets[t].setAttribute("data-visible","true"),inputs[t].checked=!1,targets[t].setAttribute("style","")}selected=[]},addBtnEvents=function(){apply.addEventListener("click",hideSections),apply.addEventListener("keypress",function(e){32!=e.keyCode&&13!=e.keyCode&&32!=e.charCode&&13!=e.charCode||(console.log(e.keyCode),hideSections())},!1),apply.addEventListener("touch",hideSections),remove.addEventListener("click",showSections),remove.addEventListener("keypress",function(e){32!=e.keyCode&&13!=e.keyCode&&32!=e.charCode&&13!=e.charCode||showSections()},!1),remove.addEventListener("touch",showSections)};document.addEventListener("DOMContentLoaded",getEvents);var getImages=document.querySelectorAll("[data-bg]"),loaded=function(e,t){e.removeAttribute("data-bg"),null!=t&&(e.src=t),e.setAttribute("loaded","")},isViewable=function(e){var t=e.getBoundingClientRect(),n=0<=t.top&&0<=t.left&&t.top<=(window.innerHeight||document.documentElement.clientHeight),d=e.querySelector("img");return n&&!d},loadImages=function(){getImages.forEach(function(e){if(isViewable(e)){e.setAttribute("loading","");var t=new Image,n=e.getAttribute("data-bg");null!=n&&(t.src=n),t.addEventListener("load",function(){setTimeout(loaded(e,n),1e3)})}})};document.addEventListener("scroll",debounce(loadImages,300,!1));